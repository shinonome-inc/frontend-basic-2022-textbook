---
title: "Organisms/TodoCard"
date: "2021-12-26"
index: 100
pathToStory: /story/organisms-todocard--default
figmaNodeId: 5%3A223
---

ここまで来るとだいぶ複雑になってきます。

まずはざっくりコンポーネントを配置して見た目を作成しましょう。

## ディレクトリ構造

```
src
  └ components
    └ Organisms
      └ TodoCard
        ├ index.jsx
        └ story.jsx
```

## タスクリストの管理

タスクの情報を格納する配列のStateを作成しましょう。

タスクの情報と一口に言いましたが、必要な情報は
- タスク名
- タスクの状態を表す文字列("TODO"と"DONE")
の二つでしょう。これを一つのオブジェクトとして配列に格納していくとよいです。
タスクの状態は2種類だけなのでtrueとfalseでいいのではないかと思うかもしれませんが、
こういった状態を表す変数は後から値の種類が増える場合がよくあるので、
拡張しやすいように最初から文字列にしておくことがおすすめです。

そして、このタスク情報のうち、状態が"TODO"のものをもとにMolecules/Taskの配列を生成し、return内に配置しましょう。
returnの中でコンポーネントの配列を配置すると勝手に展開してくれます。

配列から配列を作成する際にはmap関数が使えますね。
また、表示するべきタスクは未完了のものだけなので、filter関数で絞り込むことも有効です。

表示ができたら、タスク追加ボタンでタスクを追加するようにしましょう。
ここで、タスクを追加した際にタスクを編集中にする(デフォルト編集中を表すpropsにtrueを渡す)
ためにはどうしたらよいでしょうか。

そして、タスク名変更、タスク完了時の処理も定義しましょう。
タスクの情報を変更するために、リスト何番目のタスクに対して操作する必要があるのかに注意しましょう。

また、タスク名が空だったらそのタスクは明らかに使いものになりません。
タスク名変更時にタスク名が空だったらタスクそのものを消す処理も追加してみましょう。
